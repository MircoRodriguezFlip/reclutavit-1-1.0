import{r as n,u as y,j as s,C as _,N as b}from"./index-Ci3h_4_1.js";import{E as v,a as E}from"./index-SIF41MxM.js";const P="_sectionContainer_zdo58_1",J="_sectionTitulo_zdo58_21",A="_sectionContenido_zdo58_39",S="_contenidoAdicional_zdo58_53",H="_pagination_zdo58_69",M="_activePage_zdo58_115",L="_sectionTabla_zdo58_123",$="_cardContainer_zdo58_137",O="_buttonVacante_zdo58_153",R="_detallesVacante_zdo58_211",D="_cardColumn_zdo58_327",W="_active_zdo58_115",F="_detalleColumn_zdo58_465",I="_sectionTablaVacantes_zdo58_645",t={sectionContainer:P,sectionTitulo:J,sectionContenido:A,contenidoAdicional:S,pagination:H,activePage:M,sectionTabla:L,cardContainer:$,buttonVacante:O,detallesVacante:R,cardColumn:D,active:W,detalleColumn:F,sectionTablaVacantes:I},q=()=>{const[l,C]=n.useState([]),[c,T]=n.useState(!0),[d,V]=n.useState(null),[m,j]=n.useState(null),[g,z]=n.useState(window.innerWidth<768),r=4,[a,o]=n.useState(1),{id:p}=y();n.useEffect(()=>{const e=()=>{z(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n.useEffect(()=>{(async()=>{try{const i=await E.get("http://localhost:5000/api/jobs");C(i.data.records||i.data)}catch(i){V(i.message||"Error al obtener las vacantes")}finally{T(!1)}})()},[]),n.useEffect(()=>{const e=Math.ceil(l.length/r);e===0?o(1):a>e&&o(e)},[l,a]),n.useEffect(()=>{g||j(null)},[a,g]),n.useEffect(()=>{p&&j(p)},[p]);const f=e=>{j(i=>i===e?null:e)},x=()=>{const e=Math.ceil(l.length/r);return e===0?null:s.jsxs("div",{className:t.pagination,children:[s.jsx("button",{onClick:()=>o(i=>Math.max(i-1,1)),disabled:a===1,children:"<"}),Array.from({length:e}).map((i,w)=>{const h=w+1;return s.jsx("button",{onClick:()=>o(h),className:h===a?t.activePage:"",children:h},h)}),s.jsx("button",{onClick:()=>o(i=>Math.min(i+1,e)),disabled:a===e,children:">"})]})},N=a*r,k=N-r,u=l.slice(k,N);if(!g){const e=l.find(i=>i.id===m);return s.jsxs("section",{className:t.sectionContainer,children:[s.jsx("header",{className:t.sectionTitulo,children:s.jsx("h1",{className:"bold-text",children:"Vacantes disponibles"})}),s.jsxs("section",{className:t.sectionContenido,children:[c&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(_,{})}),!c&&d&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(v,{})}),!c&&!d&&s.jsxs("section",{className:t.sectionTablaVacantes,children:[x(),s.jsxs("section",{className:t.sectionTabla,children:[s.jsx("div",{className:t.cardColumn,children:l.length===0?s.jsx("div",{className:t.placeholder,children:s.jsx("p",{className:"light-text",children:"No hay vacantes disponibles"})}):u.map(i=>s.jsx("div",{className:`${t.cardContainer} ${m===i.id?t.active:""}`,children:s.jsxs(b,{onClick:()=>f(i.id),className:t.buttonVacante,title:`Ver detalles de ${i.fields.title}`,children:[s.jsx("h3",{className:"bold-text",children:i.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",i.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",i.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",i.fields.work_days]})]})},i.id))}),s.jsx("div",{className:t.detalleColumn,children:e?s.jsxs("div",{className:`${t.detallesVacante} fade-in`,"aria-live":"polite",children:[s.jsx("h3",{className:"bold-text",children:e.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Descripción:"})," ",s.jsx("br",{})," ",e.fields.description]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Habilidades:"})," ",s.jsx("br",{})," ",e.fields.skills]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Responsabilidades:"})," ",s.jsx("br",{})," ",e.fields.responsibilities]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Oferta:"})," ",s.jsx("br",{})," ",e.fields.offer]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",s.jsx("br",{})," ",e.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",s.jsx("br",{})," ",e.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",s.jsx("br",{})," ",e.fields.work_days," ",s.jsx("br",{})," ",e.fields.work_time]})]},e.id):s.jsx("div",{className:t.placeholder,children:s.jsx("p",{className:"light-text",children:"Selecciona una vacante para ver los detalles"})})})]}),x()]})]})]})}return s.jsxs("section",{className:t.sectionContainer,children:[s.jsx("header",{className:t.sectionTitulo,children:s.jsx("h1",{className:"bold-text",children:"Vacantes disponibles"})}),s.jsxs("section",{className:t.sectionContenido,children:[c&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(_,{})}),!c&&d&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(v,{})}),!c&&!d&&s.jsxs("section",{className:t.sectionTabla,children:[x(),s.jsx("section",{children:u.map(e=>s.jsxs("div",{className:t.cardContainer,children:[s.jsxs(b,{onClick:()=>f(e.id),className:t.buttonVacante,title:`Ver detalles de ${e.fields.title}`,children:[s.jsx("h3",{className:"bold-text",children:e.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",e.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",e.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",e.fields.work_days]})]}),m===e.id&&s.jsxs("div",{className:t.detallesVacante,"aria-live":"polite",children:[s.jsx("h3",{className:"bold-text",children:e.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Descripción:"})," ",s.jsx("br",{})," ",e.fields.description]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Habilidades:"})," ",s.jsx("br",{})," ",e.fields.skills]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Responsabilidades:"})," ",s.jsx("br",{})," ",e.fields.responsibilities]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Oferta:"})," ",s.jsx("br",{})," ",e.fields.offer]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",s.jsx("br",{})," ",e.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",s.jsx("br",{})," ",e.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",s.jsx("br",{})," ",e.fields.work_days," ",s.jsx("br",{})," ",e.fields.work_time]})]})]},e.id))}),x()]})]})]})},K=()=>s.jsx("main",{children:s.jsx("section",{children:s.jsx(q,{})})});export{K as default};

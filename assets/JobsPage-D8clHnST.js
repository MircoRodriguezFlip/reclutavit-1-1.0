import{r as n,j as s,C as f,N}from"./index-BfxVPxju.js";import{E as u,a as y}from"./index-BZ5lTRDu.js";const q="_sectionContainer_fm7qg_1",E="_sectionTitulo_fm7qg_21",J="_sectionContenido_fm7qg_39",A="_contenidoAdicional_fm7qg_53",P="_pagination_fm7qg_69",S="_sectionTabla_fm7qg_77",H="_cardContainer_fm7qg_91",M="_buttonVacante_fm7qg_107",L="_detallesVacante_fm7qg_165",O="_cardColumn_fm7qg_281",R="_detalleColumn_fm7qg_381",t={sectionContainer:q,sectionTitulo:E,sectionContenido:J,contenidoAdicional:A,pagination:P,sectionTabla:S,cardContainer:H,buttonVacante:M,detallesVacante:L,cardColumn:O,detalleColumn:R},z=()=>{const[l,_]=n.useState([]),[a,b]=n.useState(!0),[o,C]=n.useState(null),[m,v]=n.useState(null),[T,k]=n.useState(window.innerWidth<768),d=4,[c,r]=n.useState(1);n.useEffect(()=>{const e=()=>{k(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n.useEffect(()=>{(async()=>{try{const i=await y.get("http://localhost:5000/api/jobs");_(i.data.records||i.data)}catch(i){C(i.message||"Error al obtener las vacantes")}finally{b(!1)}})()},[]),n.useEffect(()=>{const e=Math.ceil(l.length/d);e===0?r(1):c>e&&r(e)},[l,c]);const j=e=>{v(i=>i===e?null:e)},x=()=>{const e=Math.ceil(l.length/d);return e===0?null:s.jsxs("div",{className:t.pagination,children:[s.jsx("button",{onClick:()=>r(i=>Math.max(i-1,1)),disabled:c===1,children:"<"}),Array.from({length:e}).map((i,V)=>{const h=V+1;return s.jsx("button",{onClick:()=>r(h),className:h===c?t.activePage:"",children:h},h)}),s.jsx("button",{onClick:()=>r(i=>Math.min(i+1,e)),disabled:c===e,children:">"})]})},g=c*d,w=g-d,p=l.slice(w,g);if(!T){const e=l.find(i=>i.id===m);return s.jsxs("section",{className:t.sectionContainer,children:[s.jsx("header",{className:t.sectionTitulo,children:s.jsx("h1",{className:"bold-text",children:"Vacantes disponibles"})}),s.jsxs("section",{className:t.sectionContenido,children:[a&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(f,{})}),!a&&o&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(u,{})}),!a&&!o&&s.jsxs("section",{children:[x(),s.jsxs("section",{className:t.sectionTabla,children:[s.jsx("div",{className:t.cardColumn,children:l.length===0?s.jsx("div",{className:t.placeholder,children:s.jsx("p",{className:"light-text",children:"No hay vacantes disponibles"})}):p.map(i=>s.jsx("div",{className:t.cardContainer,children:s.jsxs(N,{onClick:()=>j(i.id),className:t.buttonVacante,title:`Ver detalles de ${i.fields.title}`,children:[s.jsx("h3",{className:"bold-text",children:i.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",i.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",i.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",i.fields.work_days]})]})},i.id))}),s.jsx("div",{className:t.detalleColumn,children:e?s.jsxs("div",{className:t.detallesVacante,"aria-live":"polite",children:[s.jsx("h3",{className:"bold-text",children:e.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Descripción:"})," ",s.jsx("br",{})," ",e.fields.description]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Habilidades:"})," ",s.jsx("br",{})," ",e.fields.skills]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Responsabilidades:"})," ",s.jsx("br",{})," ",e.fields.responsibilities]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Oferta:"})," ",s.jsx("br",{})," ",e.fields.offer]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",s.jsx("br",{})," ",e.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",s.jsx("br",{})," ",e.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",s.jsx("br",{})," ",e.fields.work_days," ",s.jsx("br",{})," ",e.fields.work_time]})]}):s.jsx("div",{className:t.placeholder,children:s.jsx("p",{className:"light-text",children:"Selecciona una vacante para ver los detalles"})})})]}),x()]})]})]})}return s.jsxs("section",{className:t.sectionContainer,children:[s.jsx("header",{className:t.sectionTitulo,children:s.jsx("h1",{className:"bold-text",children:"Vacantes disponibles"})}),s.jsxs("section",{className:t.sectionContenido,children:[a&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(f,{})}),!a&&o&&s.jsx("div",{className:t.contenidoAdicional,children:s.jsx(u,{})}),!a&&!o&&s.jsxs("section",{className:t.sectionTabla,children:[x(),s.jsx("section",{children:p.map(e=>s.jsxs("div",{className:t.cardContainer,children:[s.jsxs(N,{onClick:()=>j(e.id),className:t.buttonVacante,title:`Ver detalles de ${e.fields.title}`,children:[s.jsx("h3",{className:"bold-text",children:e.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",e.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",e.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",e.fields.work_days]})]}),m===e.id&&s.jsxs("div",{className:t.detallesVacante,"aria-live":"polite",children:[s.jsx("h3",{className:"bold-text",children:e.fields.title}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Descripción:"})," ",s.jsx("br",{})," ",e.fields.description]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Habilidades:"})," ",s.jsx("br",{})," ",e.fields.skills]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Responsabilidades:"})," ",s.jsx("br",{})," ",e.fields.responsibilities]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Oferta:"})," ",s.jsx("br",{})," ",e.fields.offer]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tipo:"})," ",s.jsx("br",{})," ",e.fields.type]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Tiempo:"})," ",s.jsx("br",{})," ",e.fields.time]}),s.jsxs("p",{className:"light-text",children:[s.jsx("strong",{children:"Horario:"})," ",s.jsx("br",{})," ",e.fields.work_days," ",s.jsx("br",{})," ",e.fields.work_time]})]})]},e.id))}),x()]})]})]})},$=()=>s.jsx("main",{children:s.jsx("section",{children:s.jsx(z,{})})});export{$ as default};
